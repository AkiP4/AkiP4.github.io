<!DOCTYPE html>
<html>
<head>
  <title>Frogger</title>
  <style>
  body {
    background: black;
    display: flex;
    align-items: center;
    margin-left: 50px;
  }

  </style>
</head>
<body>
<canvas width="624" height="720" id="canvas"></canvas>
<script>

const canvas = document.getElementById('canvas');
const context = canvas.getContext('2d');

const grid = 48;
const gridGap = 10;

function Sprite(props) {
  // shortcut for assigning all object properties to the sprite
  Object.assign(this, props);
}


Sprite.prototype.render = function() {
  context.fillStyle = this.color;

  // draw a rectangle sprite
  if (this.shape === 'rect') {
    context.fillRect(this.x, this.y + gridGap / 2, this.size, grid - gridGap);
  }

  else {
    context.beginPath();
    context.arc(
      this.x + this.size / 2, this.y + this.size / 2,
      this.size / 2 - gridGap / 2, 0, 2 * Math.PI
    );
    context.fill();
  }
}

class test {
  constructor(startX, startY, width, height, speed, color) {
    this.width = width;
    this.height = height;
    this.startX = startX;
    this.startY = startY;
    this.speed = speed;
  }

  update() {
    this.x += this.speed;
  }

  draw() {
    this.x, this.y;
  }

}

  //frogger :D

const frogger = new Sprite({
  x: grid * 6,
  y: grid * 13,
  color: '#00ff1e',
  size: grid,
  shape: 'circle'
});

  // car for lane 1

const car1 = new Sprite({
  x: grid * 0,
  y: grid * 12,
  color: 'pink',
  size: grid,
  shape: 'rect'
})

const car1_1 = new Sprite({
  x: grid * 4,
  y: grid * 12,
  color: 'pink',
  size: grid,
  shape: 'rect'
})

const car1_2 = new Sprite({
  x: grid *8,
  y: grid * 12,
  color: 'pink',
  size: grid,
  shape: 'rect'
})

// car for lane 2

const car2 = new Sprite({
  x: grid * 16, 
  y: grid * 11,
  color: 'orange',
  size: grid * 2,
  shape: 'rect'
})

  const car2_1 = new Sprite({
  x: grid * 10, 
  y: grid * 11,
  color: 'orange',
  size: grid * 2,
  shape: 'rect'
})

const car2_2 = new Sprite({
  x: grid * 4, 
  y: grid * 11,
  color: 'orange',
  size: grid * 2,
  shape: 'rect'
})

// car for lane 3

const car3 = new Sprite({
  x: grid * 3,
  y: grid * 10,
  color: 'darkgreen',
  size: grid,
  shape: 'rect'
})

const car3_1 = new Sprite({
  x: grid * 7,
  y: grid * 10,
  color: 'darkgreen',
  size: grid,
  shape: 'rect'
})

const car3_2 = new Sprite({
  x: grid *11,
  y: grid * 10,
  color: 'darkgreen',
  size: grid,
  shape: 'rect'
})

// car for lane 4

const car4 = new Sprite({
  x: grid * 3,
  y: grid * 9,
  color: 'lightblue',
  size: grid,
  shape: 'rect'
})

const car4_1 = new Sprite({
  x: grid * 8,
  y: grid * 9,
  color: 'lightblue',
  size: grid,
  shape: 'rect'
})

const car4_2 = new Sprite({
  x: grid *13,
  y: grid * 9,
  color: 'lightblue',
  size: grid,
  shape: 'rect'
})

// car for lane 5

const car5 = new Sprite({
  x: grid * 0,
  y: grid * 8,
  color: 'darkorange',
  size: grid,
  shape: 'rect'
})

const car5_1 = new Sprite({
  x: grid * 5,
  y: grid * 8,
  color: 'darkorange',
  size: grid,
  shape: 'rect'
})

const car5_2 = new Sprite({
  x: grid *10,
  y: grid * 8,
  color: 'darkorange',
  size: grid,
  shape: 'rect'
})

const log1 = new Sprite({
  x: grid *10,
  y: grid * 6,
  color: 'darkorange',
  size: grid*6,
  shape: 'rect'
})

const log1_2 = new Sprite({
  x: grid *2,
  y: grid * 6,
  color: 'darkorange',
  size: grid*6,
  shape: 'rect'
})

// game loop
function loop() {
  requestAnimationFrame(loop);
  context.clearRect(0,0,canvas.width,canvas.height);

  // draw the game background

  // water
  context.fillStyle = '#000047';
  context.fillRect(0, grid, canvas.width, grid * 6);

  // goal
  context.fillStyle = '#1ac300';
  context.fillRect(0, grid, canvas.width, 5);
  context.fillRect(0, grid, 5, grid);
  context.fillRect(canvas.width - 5, grid, 5, grid);
  for (let i = 0; i < 4; i++) {
    context.fillRect(grid + grid * 3 * i, grid, grid * 2, grid);
  }

  // middle
  context.fillStyle = '#feffbd';
  context.fillRect(0, 7 * grid, canvas.width, grid);

  // start
  context.fillRect(0, canvas.height - grid * 2, canvas.width, grid);

  // draw frogger
  frogger.x += frogger.speed || 0;
  frogger.render();

  //car lane 1 rendering

  car1.x += 1;
  car1.render();
  if (car1.x >= canvas.width ) {
    car1.x = -60
  }

  car1_1.x += 1;
  car1_1.render();
  if (car1_1.x >= canvas.width ) {
    car1_1.x = -60
  }

  car1_2.x += 1;
  car1_2.render();
  if (car1_2.x >= canvas.width ) {
    car1_2.x = -60
  }

  //car lane 2 rendering

  car2.x -= 1;
  car2.render();
  if (car2.x < -canvas.width/3) {
    car2.x = 670
  }

  car2_1.x -= 1;
  car2_1.render();
  if (car2_1.x < -canvas.width/3) {
    car2_1.x = 670
  }

  car2_2.x -= 1;
  car2_2.render();
  if (car2_2.x < -canvas.width/3) {
    car2_2.x = 670
  }

  //car lane 3 rendering

  car3.x += 1;
  car3.render();
  if (car3.x >= canvas.width ) {
    car3.x = -60
  }

  car3_1.x += 1;
  car3_1.render();
  if (car3_1.x >= canvas.width ) {
    car3_1.x = -60
  }

  car3_2.x += 1;
  car3_2.render();
  if (car3_2.x >= canvas.width ) {
    car3_2.x = -60
  }

  //car lane 4 rendering

  car4.x -= 1;
  car4.render();
  if (car4.x < -canvas.width/3 ) {
    car4.x = 670
  }

  car4_1.x -= 1;
  car4_1.render();
  if (car4_1.x < -canvas.width/3 ) {
    car4_1.x = 670
  }

  car4_2.x -= 1;
  car4_2.render();
  if (car4_2.x < -canvas.width/3 ) {
    car4_2.x = 670
  }

  //car lane 5 rendering

  car5.x += 1;
  car5.render();
  if (car5.x >= canvas.width ) {
    car5.x = -60
  }

  car5_1.x += 1;
  car5_1.render();
  if (car5_1.x >= canvas.width ) {
    car5_1.x = -60
  }

  car5_2.x += 1;
  car5_2.render();
  if (car5_2.x >= canvas.width ) {
    car5_2.x = -60
  }

  //log lane 7 rendering

  log1.x += 1;
  log1.render();
  if (log1.x >= canvas.width ) {
    log1.x = -grid*6
  }
  
  log1_2.x += 1;
  log1_2.render();
  if (log1_2.x >= canvas.width ) {
    log1_2.x = -grid*6
  }


  //
  // primitive hitboxes for the cars on lane 1 (could've used arrays on this)
  //

  if (frogger.x == car1.x + gridGap && frogger.y == car1.y) {
    frogger.x = grid * 6
    frogger.y = grid * 13;
  }

  if (frogger.x == car1_1.x + gridGap && frogger.y == car1_1.y) {
    frogger.x = grid * 6
    frogger.y = grid * 13;
  }

  if (frogger.x == car1_2.x + gridGap && frogger.y == car1_2.y) {
    frogger.x = grid * 6
    frogger.y = grid * 13;
  }

  // hitbox lane 2

  if (frogger.x == car2.x - gridGap  && frogger.y == car2.y) {
    frogger.x = grid * 6
    frogger.y = grid * 13;
  }

  if (frogger.x == car2_1.x - gridGap && frogger.y == car2_1.y) {
    frogger.x = grid * 6
    frogger.y = grid * 13;
  }

  if (frogger.x == car2_2.x - gridGap && frogger.y == car2_2.y) {
    frogger.x = grid * 6
    frogger.y = grid * 13;
  }

  // hitbox lane 3

  if (frogger.x == car3.x + gridGap && frogger.y == car3.y) {
    frogger.x = grid * 6
    frogger.y = grid * 13;
  }

  if (frogger.x == car3_1.x + gridGap && frogger.y == car3_1.y) {
    frogger.x = grid * 6
    frogger.y = grid * 13;
  }

  if (frogger.x == car3_2.x + gridGap && frogger.y == car3_2.y) {
    frogger.x = grid * 6
    frogger.y = grid * 13;
  }

    // hitbox lane 4

    if (frogger.x == car4.x - gridGap && frogger.y == car4.y) {
    frogger.x = grid * 6
    frogger.y = grid * 13;
  }

  if (frogger.x == car4_1.x - gridGap && frogger.y == car4_1.y) {
    frogger.x = grid * 6
    frogger.y = grid * 13;
  }

  if (frogger.x == car4_2.x - gridGap && frogger.y == car4_2.y) {
    frogger.x = grid * 6
    frogger.y = grid * 13;
  }

    // hitbox lane 5

  if (frogger.x == car5.x + gridGap && frogger.y == car5.y) {
    frogger.x = grid * 6
    frogger.y = grid * 13;
  }

  if (frogger.x == car5_1.x + gridGap && frogger.y == car5_1.y) {
    frogger.x = grid * 6
    frogger.y = grid * 13;
  }

  if (frogger.x == car5_2.x + gridGap && frogger.y == car5_2.y) {
    frogger.x = grid * 6
    frogger.y = grid * 13;
  }

    // hitbox water

  if (frogger.x == log1.x) {
    frogger.speed = log1.speed
  }

  new test(100, 100, 50, 50, 1)


}


// listen to keyboard events to move frogger
document.addEventListener('keydown', function(e) {
  // left arrow key
  if (e.which === 37) {
    frogger.x -= grid;
  }
  // right arrow key
  else if (e.which === 39) {
    frogger.x += grid;
  }

  // up arrow key
  else if (e.which === 38) {
    frogger.y -= grid;
  }
  // down arrow key
  else if (e.which === 40) {
    frogger.y += grid;
  }

  // force frogger position to stay on screen
  frogger.x = Math.min( Math.max(0, frogger.x), canvas.width - grid);
  frogger.y = Math.min( Math.max(grid, frogger.y), canvas.height - grid * 2);
});

requestAnimationFrame(loop);
</script>
</body>
</html>